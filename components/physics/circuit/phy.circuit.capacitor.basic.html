<!-- @cmp-manifest
{
  "schema": "cmp-manifest/v1",
  "id": "phy.circuit.capacitor.basic",
  "name": "电容器（平行板）",
  "nameEn": "Parallel Plate Capacitor",
  "category": "physics/circuit",
  "version": "1.0.0",
  "viewport": { "w": 120, "h": 100 },
  "tags": ["capacitor", "parallel-plate", "circuit", "static", "electric-field"],
  "props": [
    { "key": "size",        "type": "number(px)", "default": 100, "min": 60, "max": 240, "desc": "组件高度（宽度按比例缩放）" },
    { "key": "plateColor",  "type": "color",  "default": "#607d8b", "desc": "极板颜色" },
    { "key": "wireColor",   "type": "color",  "default": "#333333", "desc": "引线颜色" },
    { "key": "posColor",    "type": "color",  "default": "#f44336", "desc": "正极标注色" },
    { "key": "negColor",    "type": "color",  "default": "#2196f3", "desc": "负极标注色" },
    { "key": "fieldColor",  "type": "color",  "default": "#ff9800", "desc": "电场线颜色" },
    { "key": "stroke",      "type": "color",  "default": "#1a1a1a", "desc": "描边颜色" },
    { "key": "strokeWidth", "type": "number", "default": 1.5, "min": 0.5, "max": 4, "desc": "描边粗细" },
    { "key": "gap",         "type": "number(0-1)", "default": 0.3, "min": 0.1, "max": 0.8, "desc": "极板间距比例" },
    { "key": "charge",      "type": "number(0-1)", "default": 0.5, "min": 0, "max": 1, "desc": "电荷密度（0=无电荷，1=满）" },
    { "key": "glow",        "type": "number(0-1)", "default": 0, "min": 0, "max": 1, "desc": "强调/亮度" }
  ],
  "cssVars": {
    "size":        "--cmp-size",
    "plateColor":  "--cmp-plate",
    "wireColor":   "--cmp-wire",
    "posColor":    "--cmp-pos",
    "negColor":    "--cmp-neg",
    "fieldColor":  "--cmp-field",
    "stroke":      "--cmp-stroke",
    "strokeWidth": "--cmp-stroke-width",
    "gap":         "--cmp-gap",
    "charge":      "--cmp-charge",
    "glow":        "--cmp-glow"
  }
}
-->
<div class="cmp" data-cmp-id="phy.circuit.capacitor.basic" role="img" aria-label="电容器（平行板）">
  <svg viewBox="0 0 120 100" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <defs>
      <linearGradient id="cap__plate" x1="0" y1="0" x2="1" y2="0">
        <stop offset="0"   stop-color="#78909c"/>
        <stop offset="0.5" stop-color="var(--cmp-plate, #607d8b)"/>
        <stop offset="1"   stop-color="#455a64"/>
      </linearGradient>
    </defs>

    <!-- 左引线 -->
    <line x1="5" y1="50" x2="35" y2="50"
          stroke="var(--cmp-wire, #333)" stroke-width="2.5" stroke-linecap="round"/>

    <!-- 左极板（+） -->
    <rect class="cap__plate-l" x="35" y="18" width="8" height="64" rx="1.5"
          fill="url(#cap__plate)"
          stroke="var(--cmp-stroke, #1a1a1a)" stroke-width="var(--cmp-stroke-width, 1.5)"/>

    <!-- 正电荷标记 -->
    <g class="cap__charges-pos" fill="var(--cmp-pos, #f44336)" font-family="Arial, sans-serif" font-size="9" font-weight="700">
      <text x="39" y="32" text-anchor="middle">+</text>
      <text x="39" y="44" text-anchor="middle">+</text>
      <text x="39" y="56" text-anchor="middle">+</text>
      <text x="39" y="68" text-anchor="middle">+</text>
    </g>

    <!-- 电场线（极板之间） -->
    <g class="cap__field" stroke="var(--cmp-field, #ff9800)" stroke-width="0.8" fill="none" opacity="0.5">
      <line x1="48" y1="30" x2="72" y2="30"/>
      <line x1="48" y1="42" x2="72" y2="42"/>
      <line x1="48" y1="50" x2="72" y2="50"/>
      <line x1="48" y1="58" x2="72" y2="58"/>
      <line x1="48" y1="70" x2="72" y2="70"/>
      <!-- 箭头 -->
      <polygon fill="var(--cmp-field, #ff9800)" points="70,28 74,30 70,32"/>
      <polygon fill="var(--cmp-field, #ff9800)" points="70,48 74,50 70,52"/>
      <polygon fill="var(--cmp-field, #ff9800)" points="70,68 74,70 70,72"/>
    </g>

    <!-- 右极板（-） -->
    <rect class="cap__plate-r" x="77" y="18" width="8" height="64" rx="1.5"
          fill="url(#cap__plate)"
          stroke="var(--cmp-stroke, #1a1a1a)" stroke-width="var(--cmp-stroke-width, 1.5)"/>

    <!-- 负电荷标记 -->
    <g class="cap__charges-neg" fill="var(--cmp-neg, #2196f3)" font-family="Arial, sans-serif" font-size="10" font-weight="700">
      <text x="81" y="32" text-anchor="middle">-</text>
      <text x="81" y="44" text-anchor="middle">-</text>
      <text x="81" y="56" text-anchor="middle">-</text>
      <text x="81" y="68" text-anchor="middle">-</text>
    </g>

    <!-- 右引线 -->
    <line x1="85" y1="50" x2="115" y2="50"
          stroke="var(--cmp-wire, #333)" stroke-width="2.5" stroke-linecap="round"/>

    <!-- +/- 标注 -->
    <text x="12" y="42" font-size="12" font-weight="700"
          fill="var(--cmp-pos, #f44336)" font-family="Arial, sans-serif">+</text>
    <text x="106" y="42" font-size="12" font-weight="700"
          fill="var(--cmp-neg, #2196f3)" font-family="Arial, sans-serif">−</text>
  </svg>
</div>

<style>
  .cmp[data-cmp-id="phy.circuit.capacitor.basic"] {
    height: var(--cmp-size, 100px);
    width: calc(var(--cmp-size, 100px) * 1.2);
    display: inline-block;
    filter: drop-shadow(0 0 calc(6px * var(--cmp-glow, 0))
            rgba(255,214,102, calc(0.8 * var(--cmp-glow, 0))));
  }
  .cmp[data-cmp-id="phy.circuit.capacitor.basic"] svg {
    width: 100%; height: 100%; display: block;
  }
  .cmp[data-cmp-id="phy.circuit.capacitor.basic"] .cap__charges-pos,
  .cmp[data-cmp-id="phy.circuit.capacitor.basic"] .cap__charges-neg {
    opacity: var(--cmp-charge, 0.5);
  }
  .cmp[data-cmp-id="phy.circuit.capacitor.basic"] .cap__field {
    opacity: calc(var(--cmp-charge, 0.5) * 0.6);
  }
</style>