# Open Lab Components

ä¸€ä¸ªé¢å‘"å®¿ä¸»ç³»ç»Ÿ/ç¼–è¾‘å™¨/ç”»å¸ƒ"çš„ **HTML fragment å•ç»„ä»¶åº“**ï¼šç»„ä»¶åªè´Ÿè´£"å™¨æé•¿ä»€ä¹ˆæ · + å“ªäº›å‚æ•°å¯è°ƒ + å‚æ•°å¦‚ä½•æ˜ å°„åˆ°è§†è§‰"ï¼Œä¸è´Ÿè´£é¡µé¢å¸ƒå±€/èƒŒæ™¯/è¯´æ˜æ–‡æ¡ˆç­‰ã€‚

[English](./README.en.md) | ä¸­æ–‡

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **çº¯ HTML Fragment**ï¼šæ¯ä¸ªç»„ä»¶éƒ½æ˜¯ç‹¬ç«‹çš„ HTML ç‰‡æ®µï¼Œä¸ä¾èµ–å¤–éƒ¨æ¡†æ¶
- ğŸ¨ **CSS å˜é‡é©±åŠ¨**ï¼šæ‰€æœ‰å¯é…ç½®å‚æ•°é€šè¿‡ CSS å˜é‡æš´éœ²ï¼Œçµæ´»æ˜“ç”¨
- ğŸš« **é›¶å¤–éƒ¨ä¾èµ–**ï¼šç»„ä»¶å®Œå…¨è‡ªåŒ…å«ï¼Œæ— å¤–éƒ¨èµ„æºå¼•ç”¨
- ğŸ”’ **æ ·å¼éš”ç¦»**ï¼šCSS ä½œç”¨åŸŸå®Œå…¨éš”ç¦»ï¼Œä¸ä¼šæ±¡æŸ“å®¿ä¸»ç¯å¢ƒ
- ğŸ“¦ **å³æ’å³ç”¨**ï¼šå¯ç›´æ¥å¤åˆ¶ç²˜è´´åˆ°ä»»ä½• HTML ç¯å¢ƒä¸­ä½¿ç”¨
- ğŸ› ï¸ **ç±»å‹å®‰å…¨**ï¼šé€šè¿‡ Manifest å£°æ˜å‚æ•°ç±»å‹å’Œé»˜è®¤å€¼
- â™¿ **å¯è®¿é—®æ€§æ”¯æŒ**ï¼šå†…ç½® ARIA æ ‡ç­¾ï¼Œæ”¯æŒå±å¹•é˜…è¯»å™¨

## ğŸ“¦ ç»„ä»¶åˆ—è¡¨

å½“å‰åŒ…å« **6 ä¸ªç‰©ç†å®éªŒç»„ä»¶**ï¼Œæ¶µç›–ä»¥ä¸‹åˆ†ç±»ï¼š

### ç‰©ç†å™¨æ (Physics Apparatus)
- ğŸ’¡ **ç¯æ³¡** (`phy.apparatus.bulb.basic`) - åŸºç¡€ç¯æ³¡ç»„ä»¶
- ğŸ“ **åˆ»åº¦å°º** (`phy.ruler.vertical.metric`) - å‚ç›´ç±³åˆ¶åˆ»åº¦å°º
- âš–ï¸ **ç ç ï¼ˆåŸºç¡€ï¼‰** (`phy.weight.mass.basic`) - åŸºç¡€ç ç ç»„ä»¶
- âš–ï¸ **ç ç ï¼ˆå†™å®ï¼‰** (`phy.weight.hook.realistic`) - å†™å®é£æ ¼å¸¦é’©ç ç 

### ç”µè·¯å…ƒä»¶ (Circuit Components)
- ğŸ”Œ **ç”µé˜»** (`phy.resistor.axial.basic`) - è½´å‘ç”µé˜»ï¼Œæ”¯æŒè‰²ç¯è‡ªå®šä¹‰
- ğŸ”‹ **ç”µå‹è¡¨** (`phy.meter.voltage.draggable`) - å¯æ‹–æ‹½ç”µå‹è¡¨ç»„ä»¶

> æŸ¥çœ‹æ›´å¤šç»„ä»¶è¯¦æƒ…ï¼Œè¯·è®¿é—® [ç»„ä»¶å±•ç¤ºç«™](./site/index.html) æˆ–è¿è¡Œ `npm run dev:site`

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/itkdm/open-lab-components.git
cd open-lab-components

# å®‰è£…ä¾èµ–
npm install
```

### ä½¿ç”¨ç»„ä»¶

#### æ–¹å¼ä¸€ï¼šç›´æ¥å¤åˆ¶ HTML ç‰‡æ®µ

1. ä» `components/` ç›®å½•ä¸­æ‰¾åˆ°éœ€è¦çš„ç»„ä»¶æ–‡ä»¶
2. å¤åˆ¶æ•´ä¸ªæ–‡ä»¶å†…å®¹
3. ç²˜è´´åˆ°ä½ çš„ HTML é¡µé¢ä¸­
4. é€šè¿‡ CSS å˜é‡æˆ– `data-props` å±æ€§é…ç½®å‚æ•°

```html
<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            padding: 40px;
            background: #f5f5f5;
        }
    </style>
</head>
<body>
    <!-- ç›´æ¥ç²˜è´´ç»„ä»¶ HTML -->
    <div class="cmp" data-cmp-id="phy.resistor.axial.basic" 
         style="--cmp-size: 80px; --cmp-body: #caa070;">
        <!-- ... ç»„ä»¶å†…å®¹ ... -->
    </div>
</body>
</html>
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨ data-props å±æ€§

```html
<div class="cmp" 
     data-cmp-id="phy.resistor.axial.basic"
     data-props='{"size": 100, "body": "#caa070", "stroke": "#111827"}'>
    <!-- ç»„ä»¶ä¼šè‡ªåŠ¨è§£æ data-props å¹¶åº”ç”¨é…ç½® -->
</div>
```

#### æ–¹å¼ä¸‰ï¼šåŠ¨æ€åŠ è½½ï¼ˆJavaScriptï¼‰

```javascript
async function loadComponent(componentId) {
    const response = await fetch(`components/physics/circuit/${componentId}.html`);
    const html = await response.text();
    return html;
}

// ä½¿ç”¨ç¤ºä¾‹
const resistorHtml = await loadComponent('phy.resistor.axial.basic');
document.getElementById('container').innerHTML = resistorHtml;
```

### æœ¬åœ°å¼€å‘

```bash
# éªŒè¯æ‰€æœ‰ç»„ä»¶
npm run validate

# æ„å»ºæ³¨å†Œè¡¨å’Œå±•ç¤ºç«™
npm run build

# å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼ˆæŸ¥çœ‹ç»„ä»¶å±•ç¤ºç«™ï¼‰
npm run dev:site
```

è®¿é—® `http://localhost:3000` æŸ¥çœ‹ç»„ä»¶å±•ç¤ºç«™ï¼Œå¯ä»¥ï¼š
- æµè§ˆæ‰€æœ‰ç»„ä»¶
- å®æ—¶é¢„è§ˆå’Œè°ƒæ•´å‚æ•°
- å¤åˆ¶ç»„ä»¶ä»£ç 
- æŸ¥çœ‹ç»„ä»¶æ–‡æ¡£

### éƒ¨ç½²åˆ° GitHub Pages

é¡¹ç›®å·²é…ç½® GitHub Actions è‡ªåŠ¨éƒ¨ç½²åˆ° GitHub Pagesã€‚é…ç½®æ­¥éª¤ï¼š

1. **å¯ç”¨ GitHub Pages**
   - è¿›å…¥ä»“åº“çš„ Settings â†’ Pages
   - Source é€‰æ‹© "GitHub Actions"
   - ä¿å­˜è®¾ç½®

2. **è‡ªåŠ¨éƒ¨ç½²**
   - æ¯æ¬¡æ¨é€åˆ° `main` æˆ– `master` åˆ†æ”¯æ—¶ï¼ŒCI ä¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²ç½‘ç«™
   - éƒ¨ç½²å®Œæˆåï¼Œç½‘ç«™å°†å¯é€šè¿‡ `https://itkdm.github.io/open-lab-components` è®¿é—®

3. **æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€**
   - åœ¨ä»“åº“çš„ Actions æ ‡ç­¾é¡µæŸ¥çœ‹éƒ¨ç½²è¿›åº¦
   - éƒ¨ç½²æˆåŠŸåï¼Œåœ¨ä»“åº“è®¾ç½®ä¸­å¯ä»¥çœ‹åˆ°ç½‘ç«™ URL

## ğŸ“ é¡¹ç›®ç»“æ„

```
open-lab-components/
â”œâ”€â”€ components/          # ç»„ä»¶æºæ–‡ä»¶ï¼ˆ1 æ–‡ä»¶ = 1 ç»„ä»¶ï¼‰
â”‚   â””â”€â”€ physics/
â”‚       â”œâ”€â”€ apparatus/   # ç‰©ç†å™¨æç»„ä»¶
â”‚       â””â”€â”€ circuit/     # ç”µè·¯å…ƒä»¶ç»„ä»¶
â”œâ”€â”€ registry/           # æœºå™¨å¯è¯»ç´¢å¼•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ registry.json   # ç»„ä»¶æ³¨å†Œè¡¨
â”‚   â”œâ”€â”€ categories.json # åˆ†ç±»ä¿¡æ¯
â”‚   â””â”€â”€ tags.json       # æ ‡ç­¾ç»Ÿè®¡
â”œâ”€â”€ site/               # å±•ç¤ºç«™ï¼ˆç»„ä»¶å¹¿åœºï¼‰
â”‚   â”œâ”€â”€ index.html      # é¦–é¡µ
â”‚   â”œâ”€â”€ components.html # ç»„ä»¶åˆ—è¡¨é¡µ
â”‚   â”œâ”€â”€ playground.html # ç»„ä»¶è°ƒè¯•å·¥å…·
â”‚   â””â”€â”€ docs.html       # æ–‡æ¡£é¡µ
â”œâ”€â”€ tools/              # æ„å»ºå’ŒéªŒè¯å·¥å…·
â”‚   â”œâ”€â”€ validate/       # ç»„ä»¶éªŒè¯è„šæœ¬
â”‚   â”œâ”€â”€ build-registry/ # æ³¨å†Œè¡¨æ„å»º
â”‚   â”œâ”€â”€ build-site/     # å±•ç¤ºç«™æ„å»º
â”‚   â””â”€â”€ dev-site/       # å¼€å‘æœåŠ¡å™¨
â”œâ”€â”€ docs/               # æ–‡æ¡£å’Œè§„èŒƒ
â”‚   â”œâ”€â”€ SPEC.md         # ç»„ä»¶è§„èŒƒåè®®
â”‚   â”œâ”€â”€ CATEGORY.md     # åˆ†ç±»å’Œå‘½åè§„åˆ™
â”‚   â””â”€â”€ CONTRIBUTING.md # è´¡çŒ®æŒ‡å—
â””â”€â”€ .github/
    â””â”€â”€ workflows/
        â””â”€â”€ ci.yml      # CI/CD é…ç½®
```

## ğŸ”§ ç»„ä»¶è§„èŒƒ

æ¯ä¸ªç»„ä»¶å¿…é¡»éµå¾ªä»¥ä¸‹è§„èŒƒï¼ˆè¯¦è§ [SPEC.md](./docs/SPEC.md)ï¼‰ï¼š

### 1. æ–‡ä»¶æ ¼å¼
- âœ… å¿…é¡»æ˜¯ HTML fragmentï¼ˆä¸åŒ…å« `<!doctype>`, `<html>`, `<head>`, `<body>`ï¼‰
- âœ… åªåŒ…å«ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå¸¦æœ‰ `class="cmp"` å’Œ `data-cmp-id`
- âœ… å¿…é¡»åŒ…å« `role="img"` å’Œ `aria-label` å±æ€§

### 2. Manifest å…ƒæ•°æ®
ç»„ä»¶æ–‡ä»¶é¡¶éƒ¨å¿…é¡»åŒ…å« `@cmp-manifest` æ³¨é‡Šå—ï¼š

```html
<!-- @cmp-manifest
{
  "schema": "cmp-manifest/v1",
  "id": "phy.resistor.axial.basic",
  "name": "ç”µé˜»",
  "nameEn": "Resistor",
  "category": "physics/circuit",
  "version": "1.0.0",
  "viewport": { "w": 108, "h": 40 },
  "props": [...],
  "cssVars": {...},
  "tags": ["resistor", "circuit"]
}
-->
```

### 3. æ ·å¼è¦æ±‚
- âœ… æ ·å¼å¿…é¡»å†…è”ï¼ˆ`<style>` æ ‡ç­¾ï¼‰
- âœ… CSS é€‰æ‹©å™¨å¿…é¡»ä½œç”¨åŸŸéš”ç¦»ï¼ˆä»¥ `.cmp[data-cmp-id="..."]` ä¸ºå‰ç¼€ï¼‰
- âœ… ç¦æ­¢å…¨å±€é€‰æ‹©å™¨ï¼ˆ`html`, `body`, `:root`, `*`ï¼‰
- âœ… ç¦æ­¢å¤–éƒ¨èµ„æºå¼•ç”¨ï¼ˆæ—  `http://`, `https://`, `@import`ï¼‰

### 4. JavaScriptï¼ˆå¯é€‰ï¼‰
- âœ… å¿…é¡»ä½¿ç”¨ IIFE è‡ªåŒ…å«
- âœ… ä¸å‘å…¨å±€ä½œç”¨åŸŸæš´éœ²å˜é‡
- âœ… ä»…æ“ä½œç»„ä»¶è‡ªèº« DOM

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°ç»„ä»¶

1. **é€‰æ‹©åˆ†ç±»å’Œä½ç½®**
   - æŸ¥çœ‹ [CATEGORY.md](./docs/CATEGORY.md) äº†è§£åˆ†ç±»è§„åˆ™
   - åœ¨ `components/` ä¸‹åˆ›å»ºå¯¹åº”çš„ç›®å½•ç»“æ„

2. **åˆ›å»ºç»„ä»¶æ–‡ä»¶**
   - å¤åˆ¶ç°æœ‰ç»„ä»¶ä½œä¸ºæ¨¡æ¿
   - å¡«å†™ Manifest å…ƒæ•°æ®
   - å®ç°ç»„ä»¶ HTML/CSS/JS

3. **æœ¬åœ°éªŒè¯å’Œæ³¨å†Œ**
   ```bash
   # éªŒè¯ç»„ä»¶æ˜¯å¦ç¬¦åˆè§„èŒƒ
   npm run validate
   
   # æ„å»ºæ³¨å†Œè¡¨ï¼ˆå°†æ–°ç»„ä»¶æ³¨å†Œåˆ° registry/ï¼‰
   npm run build:registry
   ```

4. **æäº¤ PR**
   - æŸ¥çœ‹ [CONTRIBUTING.md](./docs/CONTRIBUTING.md) äº†è§£è¯¦ç»†æµç¨‹
   - ç¡®ä¿é€šè¿‡ CI éªŒè¯

### å¯ç”¨è„šæœ¬

```bash
# éªŒè¯æ‰€æœ‰ç»„ä»¶æ˜¯å¦ç¬¦åˆè§„èŒƒ
npm run validate

# æ„å»ºç»„ä»¶æ³¨å†Œè¡¨
npm run build:registry

# æ„å»ºå±•ç¤ºç«™
npm run build:site

# æ„å»ºæ‰€æœ‰å†…å®¹
npm run build

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå±•ç¤ºç«™ï¼‰
npm run dev:site
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®ç±»å‹
- ğŸ†• æ–°å¢ç»„ä»¶
- ğŸ› ä¿®å¤ Bug
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ¨ UI/UX ä¼˜åŒ–
- âš¡ æ€§èƒ½ä¼˜åŒ–

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-component`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing component'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-component`)
5. å¼€å¯ Pull Request

### æäº¤å‰æ£€æŸ¥æ¸…å•

- [ ] ç»„ä»¶æ˜¯ HTML fragmentï¼ˆæ—  doctype/html/head/bodyï¼‰
- [ ] æ–‡ä»¶å†…åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼ˆç»„ä»¶æ ¹å®¹å™¨ï¼‰
- [ ] æ ¹èŠ‚ç‚¹åŒ…å«ï¼š`class="cmp"`ã€`data-cmp-id`ã€`role="img"`ã€`aria-label`
- [ ] æ–‡ä»¶é¡¶éƒ¨å­˜åœ¨ `@cmp-manifest`ï¼Œä¸” JSON å¯è§£æ
- [ ] Manifest.id ä¸ data-cmp-id å®Œå…¨ä¸€è‡´ï¼Œä¸” id å…¨å±€å”¯ä¸€
- [ ] æ— å¤–é“¾èµ„æºï¼ˆæ—  http/https/@import ç­‰ï¼‰
- [ ] CSS å·²ä½œç”¨åŸŸéš”ç¦»ï¼ˆæ—  html/body/:root/* å…¨å±€æ±¡æŸ“ï¼‰
- [ ] å…³é”®å¯é…ç½®é¡¹é€šè¿‡ CSS å˜é‡æš´éœ²ï¼Œä¸”æä¾› fallback
- [ ] è‹¥åŒ…å« JSï¼šIIFE è‡ªåŒ…å«ã€æ— å…¨å±€æ±¡æŸ“ã€æ— ç½‘ç»œè¯·æ±‚ã€ä»…æ“ä½œè‡ªèº« DOM
- [ ] è¿è¡Œ `npm run validate` é€šè¿‡éªŒè¯

è¯¦ç»†è§„èŒƒè¯·æŸ¥çœ‹ï¼š
- [ç»„ä»¶è§„èŒƒ](./docs/SPEC.md)
- [åˆ†ç±»è§„åˆ™](./docs/CATEGORY.md)
- [è´¡çŒ®æŒ‡å—](./docs/CONTRIBUTING.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](./LICENSE)ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [ç»„ä»¶å±•ç¤ºç«™](./site/index.html) - åœ¨çº¿æµè§ˆå’Œæµ‹è¯•ç»„ä»¶
- [ç»„ä»¶è§„èŒƒæ–‡æ¡£](./docs/SPEC.md) - è¯¦ç»†çš„ç»„ä»¶å¼€å‘è§„èŒƒ
- [åˆ†ç±»è§„åˆ™æ–‡æ¡£](./docs/CATEGORY.md) - ç»„ä»¶åˆ†ç±»å’Œå‘½åè§„åˆ™
- [è´¡çŒ®æŒ‡å—](./docs/CONTRIBUTING.md) - å¦‚ä½•å‚ä¸è´¡çŒ®

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.1.0 (2025-01-08)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ¯ æ”¯æŒ 6 ä¸ªç‰©ç†å®éªŒç»„ä»¶
- ğŸ“¦ å®Œæ•´çš„æ„å»ºå’ŒéªŒè¯å·¥å…·é“¾
- ğŸ“š ç»„ä»¶å±•ç¤ºç«™å’Œæ–‡æ¡£ç³»ç»Ÿ

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
